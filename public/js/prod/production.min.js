"use strict";!function(){var e=io(),t=document.querySelector("#messages"),n=document.querySelector("form"),r=document.querySelector(".nickname"),i=n.querySelector(".message"),o=null,s=void 0,u=document.querySelector("#enter"),c=document.querySelector(".users"),a=function(e){return e.getHours()+":"+("0"+e.getMinutes()).slice(-2)},l=function(){for(var e="0123456789ABCDEF".split(""),t="#",n=0;n<6;n++)t+=e[Math.floor(16*Math.random())];return t};function d(){o=r.value;var t=document.querySelector(".header"),n=document.querySelector(".content");t.style.display="none",document.querySelector("#chat").style.display="grid",n.style.height="100vh",s=l(),e.emit("new user",{nickname:o,newColor:s})}r.addEventListener("keyup",function(e){e.preventDefault(),13===e.keyCode&&d()}),u.addEventListener("click",d,!1),n.addEventListener("submit",function(t){return t.preventDefault(),o=o&&o.length>0?o:"user",msg='<li style="background-color:'+s+'">'+o+": "+i.value,e.emit("chat message",msg),i.value="",!1},!1),e.addEventListener("chat message",function(e){var n=a(new Date(Date.now())),r=e.message+"</br><span>"+n+"</span></li>";t.innerHTML+=r},!1),e.addEventListener("disconnect message",function(e){var n="<li>"+e+"</li>";t.innerHTML+=n},!1),e.addEventListener("list users",function(e){for(;c.firstChild;)c.removeChild(c.firstChild);e.forEach(function(e){var t="<li>"+e+"</li>";c.innerHTML+=t})})}();